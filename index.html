<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agenda Kegiatan Kepala BPS</title>
<link rel="icon" type="image/png" href="bps.png">
  <link rel="stylesheet" href="style.css"> <!-- âœ… Tambahkan baris ini -->
</head>
<body>
<section class="section">
<div class="container">
  <div class="title-center">
    <div class="title-main">Agenda Kegiatan Kepala BPS</div>
    <div class="subtitle-main">Provinsi Sumatera Barat Tahun 2025</div>
    <div class="subtitle-main" id="bulanDisplay">Bulan: -</div>
  </div>

  <table class="table is-striped is-hoverable is-fullwidth">
    <thead>
      <tr>
        <th>Hari/Tgl</th>
        <th>Jam Acara</th>
        <th>Nama Kegiatan</th>
        <th>Alamat/Tempat</th>
        <th>Tim</th>
        <th>Keterangan</th>
      </tr>
    </thead>
    <tbody id="jadwalTable"></tbody>
  </table>
</div>
</section>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyB0Flu6NacmEFNBr3_8gaqfmmzUi8gJ8Es",
  authDomain: "jadwal-pimpinan-8b0ef.firebaseapp.com",
  projectId: "jadwal-pimpinan-8b0ef",
  storageBucket: "jadwal-pimpinan-8b0ef.appspot.com",
  messagingSenderId: "360212048977",
  appId: "1:360212048977:web:1ff5749cd1416ad08f5c70"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();
const tbody=document.getElementById('jadwalTable');
const bulanDisplay=document.getElementById('bulanDisplay');

db.collection('jadwal').orderBy('tanggal').onSnapshot(snapshot=>{
  tbody.innerHTML='';
  const bulanSet=new Set();
  snapshot.forEach(doc=>{
    const d=doc.data();
    const row=document.createElement('tr');
    let bg='';
    switch(d.warna){case'red':bg='#f87171';break;case'blue':bg='#60a5fa';break;case'yellow':bg='#facc15';break;case'green':bg='#4ade80';break;}
    row.style.backgroundColor=bg;
    row.innerHTML=`
      <td>${d.tanggal}</td><td>${d.jam}</td><td>${d.kegiatan}</td>
      <td>${d.lokasi||'-'}</td><td>${d.tim||'-'}</td><td>${d.keterangan||'-'}</td>`;
    tbody.appendChild(row);
    const bulan=new Date(d.tanggal).toLocaleString('id-ID',{month:'long'});
    bulanSet.add(bulan);
  });
  bulanDisplay.textContent='Bulan: '+Array.from(bulanSet).join(', ');
});
</script>
</body>
</html>

